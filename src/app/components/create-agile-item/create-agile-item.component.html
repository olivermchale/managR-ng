<app-modal #modal>
  <div class="app-modal-header modal-heading">
    Create Item
  </div>
  <div class="app-modal-body">
    <div class="form-container">
      <form [formGroup]="createItemForm" (ngSubmit)="submit()">
        <div class="form-group">
          <label for="itemType">
            Item Type
          </label>
          <select class="form-control" formControlName="itemType" id="itemType">
            <option *ngFor="let type of itemTypes" [value]="type.value">
              {{type.text}}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="title">
            Title
          </label>
          <input type="text" formControlName="title" id="title" class="form-control">
          <div *ngIf="form.title.errors && form.title.touched">
            <div *ngIf="form.title.errors.required">
              Title is required
            </div>
            <div *ngIf="form.title.errors.minlength && !form.title.errors.required">
              Title must have a minimum length of 3
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="description">
            Description
          </label>
          <textarea class="form-control" id="description" formControlName="description">
          </textarea>
            <div *ngIf="form.description.errors && form.description.touched">
              <div *ngIf="form.description.errors.required">
                Description is required
              </div>
              <div *ngIf="form.description.errors.minlength && !form.description.errors.required">
                Description must have a minimum length of 3
              </div>
            </div>
        </div>
        <div class="form-group">
          <label for="dueBy">
            Due By
            <fa-icon (click)="d.toggle()" class="fa-icon" [icon]="faCalendar"></fa-icon>
          </label>
          <input class="form-control" type="text" placeholder="YYYY-MM-DD" formControlName="dueBy" ngbDatepicker #d="ngbDatepicker"/>
          <div *ngIf="form.dueBy.errors && form.dueBy.touched">
            <div *ngIf="form.dueBy.errors.required">
              Due by date is required
            </div>
            <div *ngIf="!form.dueBy.errors.required">
              Invalid Date
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="priority">
            Priority
          </label>
          <select class="form-control" formControlName="priority" id="priority">
            <option *ngFor="let type of priorityTypes" [value]="type.value">
              {{type.text}}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="board">
            Board
          </label>
          <select class="form-control" formControlName="board" id="board">
            <div *ngIf="!loading">
              <option *ngFor="let board of boards" [value]="board.id">
                {{board.id}}
              </option>
            </div>
          </select>
        </div>
      </form>
    </div>
  </div>
  <div class="app-modal-footer">
    <button type="button" class="btn btn-default" (click)="setModalVisbility(false)">Close</button>
    <button type="button" class="btn btn-primary">Save changes</button>
  </div>
</app-modal>